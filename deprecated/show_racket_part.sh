#!/bin/bash

ATUAL=$2
ATT='\033[1;31m' 
file=$1

BEGIN=$3
END=$4
MIDDLE=$5
ATTENTION=$6

    
r=$(grep -i -A 1000 $BEGIN $file | grep -i -m 1 -A 10 -B 1000 $END | grep $MIDDLE)


echo "$r" > tmp.rkt

if [ ! -z "$r" ]
then
    if [ "$ATTENTION" = "false" ]
    then
        pygmentize -l racket  tmp.rkt
    else
        echo -e "${ATT}"$ATTENTION"${NC}"
        echo -e "${ATT}************************************************************************************************${NC}"
        echo -e "${ATT}************************************************************************************************${NC}"
        echo -e "${ATT}************************************************************************************************${NC}"
        pygmentize -l racket  tmp.rkt
        echo -e "${ATT}************************************************************************************************${NC}"
        echo -e "${ATT}************************************************************************************************${NC}"
        echo -e "${ATT}************************************************************************************************${NC}"
    fi
fi


